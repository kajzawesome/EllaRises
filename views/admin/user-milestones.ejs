<%- include('../partials/header', { title: 'User Milestones', user: user, lang: lang }) %>

<div class="admin-container">
  <aside class="admin-sidebar">
    <h3><span class="lang-en">Admin Tools</span><span class="lang-es">Herramientas Admin</span></h3>
    <a class="admin-btn" href="/admin/dashboard">Dashboard</a>
    <a class="admin-btn" href="/admin/addEvent">Add Event/Program</a>
    <a class="admin-btn" href="/admin/manageevents">Manage Events</a>
    <a class="admin-btn" href="/admin/manageusers">Manage Users</a>
    <a class="admin-btn" href="/admin/surveys">Manage Surveys</a>
    <a class="admin-btn" href="/admin/managedonations">Manage Donations</a>
  </aside>

  <main class="admin-main">
    <section>
      <h2><%= parent.parentfirstname %> <%= parent.parentlastname %></h2>
      <p><strong>Email:</strong> <%= parent.parentemail %></p>

      <% if (participant) { %>
        <div class="program-card" style="margin: 20px auto; max-width: 600px;">
          <h3>Participant: <%= participant.participantfirstname %> <%= participant.participantlastname %></h3>
          <p><strong>DOB:</strong> <%= participant.participantDOB %></p>
          <p><strong>Grade:</strong> <%= participant.participantgrade || '—' %></p>

          <h4>Milestones</h4>
          <% if (participant.milestones && participant.milestones.length) { %>
            <ul>
              <% participant.milestones.forEach(m => { %>
                <li><strong><%= m.title %></strong> — <%= m.date %> — <%= m.status %></li>
              <% }) %>
            </ul>
          <% } else { %>
            <p>No milestones recorded.</p>
          <% } %>
        </div>
      <% } else { %>
        <p>No participant selected.</p>
      <% } %>
    </section>
  </main>
</div>

<%- include('../partials/footer') %>