<%- include('partials/header', { 
    title: title,
    user: user,
    lang: lang
}) %>
    <div class="form-container">
        <h1>
            <span class="lang-en">Survey for <%= item.name %></span>
            <span class="lang-es">Encuesta para <%= item.name_es || item.name %></span>
        </h1>

        <form action="/survey/submit" method="POST">
            <!-- Hidden fields to track event/program -->
            <input type="hidden" name="user_id" value="<%= user.id %>">
            <input type="hidden" name="item_id" value="<%= item.id %>">
            <input type="hidden" name="item_type" value="<%= itemType %>"> <!-- "program" or "event" -->

            <!-- Satisfaction -->
            <label>
                <span class="lang-en">Satisfaction Score (1-5) *</span>
                <span class="lang-es">Nivel de satisfacción (1-5) *</span>
            </label>
            <input type="number" name="SurveySatisfactionScore" min="1" max="5" required>

            <!-- Usefulness -->
            <label>
                <span class="lang-en">Usefulness Score (1-5) *</span>
                <span class="lang-es">Utilidad (1-5) *</span>
            </label>
            <input type="number" name="SurveyUsefulnessScore" min="1" max="5" required>

            <!-- Instructor -->
            <label>
                <span class="lang-en">Instructor Score (1-5) *</span>
                <span class="lang-es">Instructor (1-5) *</span>
            </label>
            <input type="number" name="SurveyInstructorScore" min="1" max="5" required>

            <!-- Recommendation -->
            <label>
                <span class="lang-en">Recommendation Score (1-5) *</span>
                <span class="lang-es">Recomendación (1-5) *</span>
            </label>
            <input type="number" name="SurveyRecommendationScore" min="1" max="5" required>

            <!-- Overall -->
            <label>
                <span class="lang-en">Overall Score (1-5) *</span>
                <span class="lang-es">General (1-5) *</span>
            </label>
            <input type="number" name="SurveyOverallScore" min="1" max="5" required>

            <!-- NPS Bucket -->
            <label>
                <span class="lang-en">Net Promoter Score (NPS) *</span>
                <span class="lang-es">Promotores/Detractores (NPS) *</span>
            </label>
            <select name="SurveyNPSBucket" required>
                <option value="">-- Select / Seleccione --</option>
                <option value="Promoter"><span class="lang-en">Promoter</span><span class="lang-es">Promotor</span>
                </option>
                <option value="Passive"><span class="lang-en">Passive</span><span class="lang-es">Pasivo</span></option>
                <option value="Detractor"><span class="lang-en">Detractor</span><span class="lang-es">Detractor</span>
                </option>
            </select>

            <!-- Comments -->
            <label>
                <span class="lang-en">Comments</span>
                <span class="lang-es">Comentarios</span>
            </label>
            <textarea name="SurveyComments" rows="4" placeholder="Optional / Opcional"></textarea>

            <!-- Submission Date & Time -->
            <input type="hidden" name="SurveySubmissionDate" value="<%= new Date().toISOString().split('T')[0] %>">
            <input type="hidden" name="SurveySubmissionTime" value="<%= new Date().toLocaleTimeString() %>">

            <div>
                <button type="submit">
                    <span class="lang-en">Submit Survey</span>
                    <span class="lang-es">Enviar Encuesta</span>
                </button>
            </div>
        </form>
    </div>

    <%- include('../partials/footer') %>